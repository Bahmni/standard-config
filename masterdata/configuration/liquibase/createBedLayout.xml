<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog/1.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog/1.9
                  http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-1.9.xsd">

    <changeSet id="example-create-bed-type-normal" author="Standard-Config">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT count(*) FROM bed_type where name='normal';
            </sqlCheck>
        </preConditions>
        <comment>Creating new bed type normal</comment>
        <sql>
            INSERT INTO bed_type(name, display_name, uuid, creator, date_created, retired)
            VALUES('normal', 'normal bed', UUID(), 1, NOW(), false);
        </sql>
    </changeSet>
    <changeSet id="example-create-bed-type-deluxe" author="Standard-Config">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT count(*) FROM bed_type where name='deluxe';
            </sqlCheck>
        </preConditions>
        <comment>Creating new bed type deluxe</comment>
        <sql>
            INSERT INTO bed_type(name, display_name, uuid, creator, date_created, retired)
            VALUES('deluxe', 'deluxe bed', UUID(), 1, NOW(), false);
        </sql>
    </changeSet>
    <changeSet id="example-create-beds-and-assign-to-location" author="Standard-Config">
        <comment>Creating beds and assign to location</comment>
        <sql>
            SET @bed_type_normal = (SELECT bed_type_id FROM bed_type where name='normal');
            SET @bed_type_deluxe = (SELECT bed_type_id FROM bed_type where name='deluxe');

            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(1, '303-a', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(2, '303-b', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(3, '303-c', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(4, '303-d', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);

            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(5, '304-a', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(6, '304-b', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(7, '304-c', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(8, '304-d', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);

            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(9, '305-a', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(10, '305-b', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(11, '305-c', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(12, '305-d', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);

            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(13, '306-a', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(14, '306-b', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(15, '306-c', 'AVAILABLE', @bed_type_normal, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(16, '306-d', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(17, '306-e', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);
            INSERT INTO bed (bed_id, bed_number, status, bed_type_id, uuid, creator, date_created, voided) VALUES(18, '306-f', 'AVAILABLE', @bed_type_deluxe, UUID(), 1, NOW(), false);

            SET @location_id_general_room1 = (SELECT location_id FROM location where name='General Ward Room-1');
            SET @location_id_general_room2 = (SELECT location_id FROM location where name='General Ward Room-2');

            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room1, 1, 1, 1);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room1, 1, 2, 2);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room1, 2, 1, 3);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room1, 2, 2, 4);

            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room2, 1, 1, 5);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room2, 1, 2, 6);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room2, 2, 1, 7);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_general_room2, 2, 2, 8);

            SET @location_id_emergency_room = (SELECT location_id FROM location where name='Emergency');

            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_emergency_room, 1, 1, 9);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_emergency_room, 1, 2, 10);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_emergency_room, 2, 1, 11);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_emergency_room, 2, 2, 12);

            SET @location_id_pediatric_room = (SELECT location_id FROM location where name='Pediatric Ward');

            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 1, 1, 13);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 1, 2, 14);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 1, 3, 15);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 2, 1, 16);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 2, 2, 17);
            INSERT INTO bed_location_map(location_id, bed_row_number, bed_column_number, bed_id) VALUES(@location_id_pediatric_room, 2, 3, 18);

        </sql>
    </changeSet>
</databaseChangeLog>
